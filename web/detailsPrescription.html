<!DOCTYPE html>

<br/>

<div class="container">

    <input class="btn btn-primary" type="button" value="Passer à l'état suivant" ng-click="ctrl.etat(ctrl.pr)"/>

    <div class="col-md-5">
        <div class="form-area">  
            <form role="form">
                <br style="clear:both"/>
                <h3 style="margin-bottom: 25px; text-align: center;">Détails de la prescription d'identifiant {{ ctrl.pr.idPresc }}</h3>
                <div class="form-group">
                    <input type="text" class="form-control" id="date" ng-model="ctrl.pr.datePresc" name="date" placeholder="Date" required/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="prep" ng-model="ctrl.pr.preparateur" name="prep" placeholder="Preparateur" required/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="UF" ng-model="ctrl.pr.nomUF" name="UF" placeholder="Unité fonctionnelle" required/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="IEP" ng-model="ctrl.pr.admiPatient.IEP" name="IEP" placeholder="IEP" required/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="nom" ng-model="ctrl.pr.admiPatient.nomPatient" name="nom" placeholder="Nom du patient" required/>
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="prenom" ng-model="ctrl.pr.admiPatient.prenomPatient" name="prenom" placeholder="Prenom du patient" required/>
                </div>
                
                <input type="submit" class="btn btn-primary" ng-click="ctrl.update()" value="Modifier" />
            </form>
        </div>
    </div>

    <div class="col-lg-1"></div>

    <div class="col-lg-4">



        <div class="form-area">  
            <form role="form">
                <br style="clear:both">
                <h3 style="margin-bottom: 25px; text-align: center;">Ajout d'un médicament</h3>

                <div class="form-group">
                    Medicament :
                    <select class="form-control" id="med" name="med" ng-model="ctrl.medpresc.medPresc" ng-options="med.nomMed for med in ctrl.med" placeholder="Admission" required></select>
                    <!--<select class="form-control" id="med" name="admission" ng-model="ctrl.pr.admiPatient" ng-options="ad.id for ad in ctrl.ad" placeholder="Admission" required></select>-->
                </div>
                <div class="form-group">
                    <input type="text" class="form-control" id="quantite" name="quantite" ng-model="ctrl.medpresc.quantite" placeholder="Quantite à prescrire" required>
                </div>

                <input type="submit" class="btn btn-primary" ng-click="ctrl.newmedpresc()" value="Ajouter" />
            </form>
        </div>
    </div>  
</div>   

<br/>

<div class="row col-lg-12">


    <br/><br/>

    <table class="table table-bordered table-striped table-condensed text-center">
        <tr>
            <th> Médicament </th>
            <th> Voie </th>
            <th> Quantité </th>

        <tr ng-repeat='med in ctrl.pr.listMedicamentsPresc | filter: recherche'>
            <td> {{ med.medPresc.nomMed }} </td>
            <td> {{ med.medPresc.administrationMed }} </td>
            <td> {{ med.quantite }} </td>
    </table>

</div>